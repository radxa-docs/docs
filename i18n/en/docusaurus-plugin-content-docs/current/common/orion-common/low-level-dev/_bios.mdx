## Prerequisites

Prepare the following hardware in advance:

<Tabs queryString="mode">

<TabItem value="With display">

- Board: {props.board}
- Power: {props.power}
- BIOS update media: USB drive
- Display: HDMI / DP cable and a monitor
- Input devices: keyboard and mouse (for GUI operation)

</TabItem>

<TabItem value="Headless">

- Board: {props.board}
- Power: {props.power}
- BIOS update media: USB drive
- Input devices: keyboard and mouse (for serial-console operation)
- Debug tool: USB-to-TTL serial cable

</TabItem>

</Tabs>

<Tabs queryString="system boot">
<TabItem value="Orion O6" default={props.tag === "o6"} attributes={{className: props.tag === "o6n" && "tab_none"}} >

:::tip Recommended accessories

- [Radxa PD 65W Power Adapter (recommended)](https://radxa.com/products/accessories/power-pd-65w)
- Standard 20V Type-C power adapter, recommended current 3A or higher

:::

</TabItem>

<TabItem value="Orion O6N" default={props.tag === "o6n"} attributes={{className: props.tag === "o6" && "tab_none"}} >

:::tip Recommended accessories

- [Radxa DC 36W Power Adapter (recommended)](https://radxa.com/products/accessories/power-dc12-36w)
- [Radxa DC 60W Power Adapter (recommended)](https://radxa.com/products/accessories/power-dc12-60w)
- Standard 12V DC5525 power adapter, recommended current 3A or higher

:::

</TabItem>  
</Tabs>

## Create a BIOS Update USB Drive

### Format the USB drive

Format the USB drive as FAT32. Other file systems may prevent the BIOS update media from being accessed correctly, causing the BIOS firmware update to fail.

### Prepare the BIOS update media

Go to the <a href={props?.download_page ?? '../download.md'}>Downloads</a> page to download the BIOS firmware, then copy the downloaded contents to the root directory of the USB drive.

The BIOS firmware package contains the following files:

```
BuildOptions
BurnImage.efi
cix_flash_all.bin
cix_flash_ota.bin
EnrollFromDefaultKeysApp.efi
FlashUpdate.efi
Shell.efi
startup.nsh
VariableInfo.efi
```

## Update the BIOS Firmware

### Hardware setup

<Tabs queryString="mode">

<TabItem value="With display">

Remove any bootable media from the board (such as a USB drive, NVMe SSD, etc.) to prevent the system from booting directly.

1. Insert the prepared BIOS update USB drive into the board’s USB port
2. Connect the monitor to the board using an HDMI / DP cable
3. Connect a USB keyboard to the board
4. Power the board with a power adapter

</TabItem>

<TabItem value="Headless">

Remove any bootable media from the board (such as a USB drive, NVMe SSD, etc.) to prevent the system from booting directly.

1. Insert the prepared BIOS update USB drive into the board’s USB port
2. Connect the board’s debug serial port using a USB-to-TTL serial cable
3. Power the board with a power adapter

:::tip Debug serial console

For wiring and usage of the USB-to-TTL cable, refer to the <a href={props?.serial_login ?? '../system-use/uart'}>Serial Login</a> guide.

Note: If you cannot input/control via the serial cable, try using a USB-to-serial cable based on a CH34x chip.

:::

</TabItem>

</Tabs>

### Enter the BIOS screen

:::tip BIOS screen

If the system detects that there is no bootable media, it will automatically enter the BIOS screen.

:::

<Tabs queryString="mode">

<TabItem value="With display">

After powering on the board, when the Radxa logo and progress bar appear on the monitor, press the “Esc” key briefly to enter the `BIOS` screen.

<div style={{ textAlign: "center" }}>
  Radxa logo screen
  <img
    src="/en/img/orion/o6n/orion-o6n-boot-logo.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

</TabItem>

<TabItem value="Headless">

```
Tianocore/EDK2 firmware version 1.0.0-2
Press ESCAPE for boot options
```

</TabItem>

</Tabs>

<div style={{ textAlign: "center" }}>
  BIOS screen
  <img
    src="/en/img/orion/o6n/orion-o6n-bios.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

### Update the BIOS firmware

On the BIOS screen, select `Boot Manager` -> `UEFI Shell`.

<div style={{ textAlign: "center" }}>
  Boot Manager screen
  <img
    src="/en/img/orion/o6n/orion-o6n-boot-manager.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

After entering the UEFI Shell, press `ESC` to cancel auto-update, then manually switch to the target drive to update the BIOS firmware.

<div style={{ textAlign: "center" }}>
  UEFI Shell screen
  <img
    src="/en/img/orion/o6n/orion-o6n-uefi-shell.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

:::danger

When updating the BIOS firmware, ensure stable power throughout the process. A power loss may cause the update to fail and the board may no longer boot.

:::

1. Enter the BIOS directory

The mapping table in the UEFI Shell shows the detected drives. You can use the `ls` command to list files on each drive to identify which one is the BIOS update USB drive.

As shown, the BIOS update USB drive is `FS2`, so enter `FS2:` to switch to that drive.

:::tip BIOS update USB drive

If only one drive is connected, the BIOS update USB drive will usually be `FS0`.

:::

<div style={{ textAlign: "center" }}>
  <img
    src="/en/img/orion/o6n/orion-o6n-uefi-shell-disk.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

2. Update the BIOS firmware

Run `startup.nsh` and press `Enter` to update the BIOS firmware.

<NewCodeBlock tip="radxa@UEFI-Shell$" type="device">

```
startup.nsh
```

</NewCodeBlock>

<div style={{ textAlign: "center" }}>
  <img
    src="/en/img/orion/o6n/orion-o6n-bios-update.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

3. Reboot the system

After the update completes, unplug and reconnect the power adapter to reboot the system.

## Flash BIOS Firmware Using a Programmer (Only When System Cannot Boot)

For advanced users who need to recover from a corrupted BIOS or prefer direct hardware access, you can use a Serial Flash programmer (such as CH341A) to flash the BIOS firmware (cix_flash_all.bin) directly to the SPI NOR Flash chip. This method completely bypasses the operating system and works even when the device cannot boot.

### Preparation

1. Prepare hardware

- Programmer: CH341A / CH341B programmer recommended
- 1.8V adapter
- SOP8 clip
- Linux PC

2. Download BIOS firmware

Visit the <a href={props?.download_page ?? '../download.md'}>Downloads</a> page to download the BIOS firmware.
The firmware downloaded from the radxa-dl website is in zip format and requires two extractions:

<NewCodeBlock tip="user@linux$" type="host">

```
unzip orion-o6-bios-v1.x.x.zip # The BIOS filename for Orion O6N is similar
cd orion-o6-bios-v1.x.x # Enter the extracted directory
gzip -d cix_flash_all.bin.gz
```

</NewCodeBlock>

3. Install flashrom tool

<NewCodeBlock tip="user@linux$" type="host">

```
sudo apt-get install flashrom
```

</NewCodeBlock>

### Assemble the Programming Clip

1. Set the CH341A/B programmer to flash mode
   Set the programmer's jumper to flash mode. Refer to the programmer's manual for the specific position.

   <div style={{ textAlign: "center" }}>
     <img
       src="/en/img/orion/o6/bios/orion-o6-ch341-pin.webp"
       style={{ width: "100%", maxWidth: "1200px" }}
     />
   </div>

2. Place the 1.8V adapter on the CH341A/B programmer's clip and lock the lever

<div style={{ textAlign: "center" }}>
  <img
    src="/en/img/orion/o6/bios/orion-o6-ch341-adapter-clamp.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

3. Place the SOP8 clip on the 1.8V adapter's pins and lock the lever

   <div style={{ textAlign: "center" }}>
     <img
       src="/en/img/orion/o6/bios/orion-o6-adapter-sop8-clamp-lock.webp"
       style={{ width: "100%", maxWidth: "1200px" }}
     />
   </div>

4. Clip onto the Flash ROM chip

<Tabs queryString="type">
  <TabItem
    value="Orion O6"
    default={props.tag === "o6"}
    attributes={{ className: props.tag === "o6n" && "tab_none" }}
  >
    Clip onto the Flash ROM chip on the board. Ensure the clip's pins correspond
    correctly to the chip's pins - the red wire is pin 1 of the SOP8, which
    corresponds to the pin marked with a circular dot on the chip.
    <div style={{ textAlign: "center" }}>
      <img
        src="/en/img/orion/o6/bios/orion-o6-ch341-eeprom-clamp.webp"
        style={{ width: "100%", maxWidth: "1200px" }}
      />
    </div>
  </TabItem>
  <TabItem
    value="Orion O6N"
    default={props.tag === "o6n"}
    attributes={{ className: props.tag === "o6" && "tab_none" }}
  >
    Clip onto the removed Flash ROM chip. Ensure the clip's pins correspond
    correctly to the chip's pins - the red wire is pin 1 of the SOP8, which
    corresponds to the pin marked with a circular dot on the chip. Refer to the
    "Remove SPI Flash Chip" and "Install SPI Flash Chip" sections below for
    steps on removing and installing the BIOS chip.
    <div style={{ textAlign: "center" }}>
      <img
        src="/en/img/orion/o6/bios/orion-o6n-ch341-eeprom-clamp.webp"
        style={{ width: "100%", maxWidth: "1200px" }}
      />
    </div>
  </TabItem>
</Tabs>

### Flash BIOS Firmware

1. Insert the programmer and boot the PC

Insert the assembled programmer into the USB port of a Linux PC.

2. Check programmer recognition

<NewCodeBlock tip="user@linux$" type="host">

```
sudo flashrom -L | grep ch341
```

</NewCodeBlock>

If output similar to the following appears, the programmer is recognized successfully:

```
Supported USB devices for the ch34la_spi programmer
```

3. Check chip recognition

<NewCodeBlock tip="user@linux$" type="host">

```
sudo flashrom -p ch341a_spi -n
```

</NewCodeBlock>

If output similar to the following appears, the chip is recognized successfully:

```
Found Winbond flash chip "W25Q64.W" (8192 kB, SPI) on ch341a_spi.
```

4. Flash BIOS firmware

Ensure the programmer and chip are stably connected during this step to avoid flash failure due to power loss or unstable connections.

Make sure the `cix_flash_all.bin` file to be flashed is in the current directory.

<NewCodeBlock tip="user@linux$" type="host">

```
sudo flashrom -p ch341a_spi -w cix_flash_all.bin
```

</NewCodeBlock>

Wait for flashing to complete. The following message indicates successful flashing:

```
Verifying flash... VERIFIED.
```

5. Reboot the system

After the update completes, unplug and reconnect the power adapter to reboot the system!
