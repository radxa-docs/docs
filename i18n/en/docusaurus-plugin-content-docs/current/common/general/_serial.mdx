import { Section, Image } from "@site/src/utils/docs";

Most of radxa's products define pins 8 (TX) and 10 (RX) on the GPIO pins as UART serial communication interfaces to make it easier to troubleshoot problems in the early startup phase of the system.

## USB to TTL serial cable

The definition of each pin of USB to TTL cable is showing like this:

![USB to TTL](/img/accessories/600px-Usb2ttl-cable-definition.webp)

Connect the USB to TTL serial cable as below.

<Section compatible="^rock5itx" model={props.model}>

| Radxa SBC       | connect     | USB to TTL cable |
| --------------- | ----------- | ---------------- |
| **GND** (pin 6) | &lt;---&gt; | Black wire       |
| **TX** (pin 8)  | &lt;---&gt; | White wire       |
| **RX** (pin 10) | &lt;---&gt; | Green wire       |

</Section>

<Section compatible="rock5itx" model={props.model}>

| Radxa SBC       | connect     | USB to TTL cable |
| --------------- | ----------- | ---------------- |
| **GND** (pin 1) | &lt;---&gt; | Black wire       |
| **TX** (pin 2)  | &lt;---&gt; | White wire       |
| **RX** (pin 3)  | &lt;---&gt; | Green wire       |

</Section>

<Image
  src="/img/accessories/#model#-1000px-Serial-connection.webp"
  model={props.model}
  fallback="rock5a"
/>

:::danger

Don't connect the red wire (VCC pin)!

:::

<Tabs queryString="os">
<TabItem value="windows" label="Windows" default>

## Windows

Plug in the USB to TTL cable to you windows PC. Viewing the device manager you can find the COM number.

Using serial tool like Putty,SecureCRTPortable and MobaXterm, as Putty for example, other tools have similar oerationã€‚

Launch the application Putty on your windows PC. And do the setting as follows:
For category Session, set serial line as COM11, speed as 1500000, connection type as Serial.
Write radxa in the Saved Sessions column and press Save.

![Putty](/img/configuration/Putty-setting-session.webp)

For category Connection---Serial, do the setting:

![Putty](/img/configuration/Putty-setting-serial.webp)

Once finish the setting, press Open button to start.

</TabItem>
<TabItem value="linux" label="Linux">

## Linux

Minicom is the serial tool that supports wide range baud rate.
Install minicom:

```bash
sudo apt update
sudo apt install minicom
```

Plug in the USB to TTL cable, kernel `dmesg | tail` should show the following device:

```bash
[1036835.654076] usb 1-6.4.3: new full-speed USB device number 103 using xhci_hcd
[1036835.755730] usb 1-6.4.3: New USB device found, idVendor=0403, idProduct=6001
[1036835.755732] usb 1-6.4.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
[1036835.755733] usb 1-6.4.3: Product: USB <-> Serial
[1036835.755734] usb 1-6.4.3: Manufacturer: FTDI
[1036835.756728] ftdi_sio 1-6.4.3:1.0: FTDI USB Serial Device converter detected
[1036835.756750] usb 1-6.4.3: Detected FT232BM
[1036835.757195] usb 1-6.4.3: FTDI USB Serial Device converter now attached to ttyUSB0
```

**/dev/ttyUSB0** is our device here.

### Setup Minicom

First add current user to plugdev group to use minicom without sudo or root.

```bash
sudo usermod -a -G plugdev $USER
```

Edit your **~/.bashrc** and add the following line with some default parameter

```bash
alias minicom='minicom -w -t xterm -l -R UTF-8'
```

Login to a new terminal to take effect.

Create and edit file ~/.minirc.radxa, add the following content:

```bash
pu port             /dev/ttyUSB0
pu baudrate         1500000
pu bits             8
pu parity           N
pu stopbits         1
pu rtscts           No
```

Now run

```bash
minicom radxa
```

to use the config above and connects to the ROCK board serial console.

</TabItem>

<TabItem value="mac" label="Mac" >

## Mac

1.  Download and install the [PL2303 Mac OS X Driver](http://www.prolific.com.tw/UserFiles/files/PL2303HXD_G_Mac%20Driver_v2_1_0_20210311.zip)
2.  Install [CoolTerm](https://freeware.the-meiers.org/previous/CoolTermMacUniversal147.zip)
3.  Click the Option menu and set the following
    >
        Port: select usbserial-xxx
        Baud rate: choose custom and input 1500000
        No flow control nor DTR/RTS

![mac serial](/img/configuration/Coolterm-serialport-setting.webp)

Click save icon to save the configuration as radxa and click connect icon.
Boot your ROCK boards and you will see the serial console output:
![mac serial output](/img/configuration/Coolterm-output.webp)

Alternatively, some of Radxa's boards such as the Zero 3 only support baud rates of 1.5 Mbaud. Connecting to these won't work with some of the more familiar command line utilities such as MacOS's bundled version of `screen`. See [this post](https://forum.radxa.com/t/macos-pi-4-e-s-working-1-5mbps-ttl-baudrate-with-picocom/8121) for an earlier discussion on the issue.

To connect at higher speeds:

1. Connect your usb to serial device. Using a device capable of high speed rates (search for 'Ultra Compact USB to UART TTL Converter with USB C-Type Connector (FTDI FT231 3.3V / 5V Tolerant)' on Amazon) is ideal. However, a device not capable of the 1.5Mbaud will work as well, with some dropped text. For instance, a Xiao Samd21 flashed with [cmsis-dap](https://wiki.seeedstudio.com/Seeeduino-XIAO-DAPLink/) or Xiao RP2040 flashed with [picoprobe](https://github.com/jancumps/picoprobe/releases/tag/picoprobe-cmsis-xiao-v1.5.0) will work in a pinch, but will not be able to keep up with the output from `htop`.
2. `brew install picocom`
3. Run `picocom -b 1500000 -d 8 $(ls /dev/tty.usb*)` (Assuming you only have one usb serial device plugged in... adjust accordingly if necessary!)
4. If this fails to work, you may need to `brew uninstall picocom` and `brew install --build-from-source radxa/picocom/picocom`, then try running step 3 again.

</TabItem>

</Tabs>
