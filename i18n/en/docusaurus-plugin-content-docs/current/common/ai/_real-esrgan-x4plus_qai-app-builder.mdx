This document explains how to use the [QAI AppBuilder](../qai-appbuilder) Python API to perform inference with the [Real-ESRGAN-x4plus](https://aihub.qualcomm.com/models/real_esrgan_x4plus?domain=Computer+Vision&useCase=Super+Resolution&chipsets=qualcomm-qcs6490-proxy) image super-resolution model using the Qualcomm® Hexagon™ Processor (NPU).

**Supported Devices**

| Device                | SoC     |
| --------------------- | ------- |
| Dragon Q6A            | QCS6490 |
| Fogwise® AIRbox Q900 | QCS9075 |

## Install QAI AppBuilder

:::tip

1. Please install QAI AppBuilder according to the [**QAI AppBuilder Installation Guide**](../qai-appbuilder).

2. Please configure the QAIRT environment variables according to [**Configuring QAIRT Environment Variables**](../qai-appbuilder#configuring-qairt-environment-variables).
   :::

## Run Example

### Install Dependencies

<NewCodeBlock tip="Device" type="device">

```bash
pip3 install requests tqdm qai-hub py3_wget opencv-python torch torchvision
```

</NewCodeBlock>

### Run the Script

- Navigate to the example directory

      <Tabs>

  <TabItem value="QCS6490">

         <NewCodeBlock tip="Device" type="device">

         ```bash
         cd ai-engine-direct-helper/samples/linux/python
         ```

          </NewCodeBlock>


          </TabItem>

          <TabItem value="QCS9075">

         <NewCodeBlock tip="Device" type="device">

          ```bash
          cd ai-engine-direct-helper/samples/python
          ```

          </NewCodeBlock>

      </TabItem>

      </Tabs>

- Prepare the input image. The following image is used as an example:

  {" "}

  <div style={{ textAlign: "center" }}>
    <img
      src="/en/img/fogwise/airbox-q900/qairt_real_esrganx4plus_input.webp"
      style={{ width: "65%" }}
    />
    Input image
  </div>

- Execute inference

    <NewCodeBlock tip="Device" type="device">

  ```bash
  python3 real_esrgan_x4plus/real_esrgan_x4plus.py
  ```

    </NewCodeBlock>

  ```bash
  $ python3 real_esrgan_x4plus/real_esrgan_x4plus.py
       0.0ms [WARNING]  <W> Initializing HtpProvider

  /prj/qct/webtech_scratch20/mlg_user_admin/qaisw_source_repo/rel/qairt-2.37.1/point_release/SNPE_SRC/avante-tools/prebuilt/dsp/hexagon-sdk-5.5.5/ipc/fastrpc/rpcmem/src/rpcmem_android.c:38:dummy call to rpcmem_init, rpcmem APIs will be used from libxdsprpc
       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

     152.5ms [WARNING] Time: Read model file to memory. 44.96

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

     631.4ms [WARNING] Time: contextCreateFromBinary. 478.81

     631.4ms [WARNING] Time: UnmapViewOfFile. 0.00

     633.3ms [WARNING] Time: model_initialize realesrgan 633.22

    2532.0ms [WARNING] Time: model_inference realesrgan 1851.89

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

  /usr/bin/xdg-open: 882: www-browser: not found
  /usr/bin/xdg-open: 882: links2: not found
  /usr/bin/xdg-open: 882: elinks: not found
  /usr/bin/xdg-open: 882: links: not found
  /usr/bin/xdg-open: 882: lynx: not found
  /usr/bin/xdg-open: 882: w3m: not found
  xdg-open: no method available for opening '/tmp/tmpczsph22w.PNG'
       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

       0.0ms [WARNING]  <W> This META does not have Alloc2 Support

  /prj/qct/webtech_scratch20/mlg_user_admin/qaisw_source_repo/rel/qairt-2.37.1/point_release/SNPE_SRC/avante-tools/prebuilt/dsp/hexagon-sdk-5.5.5/ipc/fastrpc/rpcmem/src/rpcmem_android.c:42:dummy call to rpcmem_deinit, rpcmem APIs will be used from libxdsprpc
    8196.8ms [WARNING] Time: model_destroy realesrgan 164.68
  ```

  <div style={{ textAlign: "center" }}>
    <img
      src="/en/img/fogwise/airbox-q900/qairt_real_esrganx4plus_output.webp"
      style={{ width: "65%" }}
    />
    Output image
  </div>
