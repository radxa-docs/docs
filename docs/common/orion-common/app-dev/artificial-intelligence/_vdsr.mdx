**VDSR** 是图像超分辨率技术发展史上的里程碑式架构。它首次成功将卷积神经网络的深度提升至 20 层，通过引入全局残差学习（Global Residual Learning）机制，解决了深层网络难以收敛的问题，并确立了通过学习“图像残差”而非直接学习像素值的核心思路。

- 核心特点：支持对单一模型进行多倍率（如 2x, 3x, 4x）的图像超分辨率重建，具备强大的边缘恢复能力与纹理细节增强效果，广泛应用于高清视频转换、数字图像修复及医学影像增强等领域。
- 版本说明：本案例采用 VDSR 标准架构。该模型通过极大的感受野有效捕捉图像的上下文信息，并利用高学习率配合梯度裁剪技术实现了高效的训练过程。作为深度超分辨率算法的开山之作，它在保持结构简洁性的同时，提供了远超传统插值算法的视觉清晰度，是目前研究超分辨率技术演进与工业落地的经典基石选择。

:::info[环境配置]
需要提前配置好相关环境。

- [环境配置](../../../../orion/o6/app-development/artificial-intelligence/env-setup.md)
- [AI Model Hub](../../../../orion/o6/app-development/artificial-intelligence/ai-hub.md)
  :::

## 快速开始

### 下载模型文件

<NewCodeBlock tip="O6 / O6N" type="device">

```bash
cd ai_model_hub_25_Q3/models/ComputeVision/Super_Resolution/onnx_vdsr
wget -O vdsr.cix https://www.modelscope.cn/models/cix/ai_model_hub_25_Q3/resolve/master/models/ComputeVision/Super_Resolution/onnx_vdsr/vdsr.cix
```

</NewCodeBlock>

### 模型测试

:::info
运行前激活虚拟环境！
:::

<NewCodeBlock tip="O6 / O6N" type="device">

```bash
python3 inference_npu.py
```

</NewCodeBlock>

## 完整转换流程

### 下载模型文件

<NewCodeBlock tip="Linux PC" type="PC">

```bash
cd ai_model_hub_25_Q3/models/ComputeVision/Super_Resolution/onnx_vdsr/model
wget -O vdsr.onnx https://www.modelscope.cn/models/cix/ai_model_hub_25_Q3/resolve/master/models/ComputeVision/Super_Resolution/onnx_vdsr/model/vdsr.onnx
```

</NewCodeBlock>

### 项目结构

```txt
├── cfg
├── datasets
├── inference_npu.py
├── inference_onnx.py
├── model
├── ReadMe.md
├── test_data
└── vdsr.cix
```

### 进行模型量化和转换

<NewCodeBlock tip="Linux PC" type="PC">

```bash
cd ..
cixbuild cfg/onnx_vdsr_build.cfg
```

</NewCodeBlock>

:::info[推送到板端]
完成模型转换之后需要将 cix 模型文件推送到板端。
:::

### 测试主机推理

#### 运行推理脚本

<NewCodeBlock tip="Linux PC" type="PC">

```bash
python3 inference_onnx.py
```

</NewCodeBlock>

#### 模型推理结果

<div>

{" "}

<img src="/img/orion/o6/ai-models/vdsr_onnx.webp" />

</div>

### 进行 NPU 部署

#### 运行推理脚本

<NewCodeBlock tip="O6 / O6N" type="device">

```bash
python3 inference_npu.py
```

</NewCodeBlock>

#### 模型推理结果

<NewCodeBlock tip="O6 / O6N" type="device">

```bash
$ python3 inference_npu.py
npu: noe_init_context success
npu: noe_load_graph success
Input tensor count is 1.
Output tensor count is 1.
npu: noe_create_job success
npu: noe_clean_job success
npu: noe_unload_graph success
npu: noe_deinit_context success
```

</NewCodeBlock>

<div>

{" "}

<img src="/img/orion/o6/ai-models/vdsr_npu.webp" />

</div>
