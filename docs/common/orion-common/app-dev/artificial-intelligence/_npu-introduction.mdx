## NPU 简介

瑞莎星睿 O6 / O6N 拥有高达 28.8 TOPS NPU (Neural Processing Unit) 算力，支持 INT4 / INT8 / INT16 / FP16 / BF16 和 TF32 类型的加速。
此文档主要讲解用户如何使用 CIX P1 NPU SDK 运行基于 NPU 加速推理的人工智能模型和应用。包括模型的编译工具、工具链和一些常见模型案例的使用方法进行逐步讲解。

## CIX NPU SDK

NPU SDK 包含 NOE Compiler 与 CIX AI Model Hub，要获取 SDK 需要通过申请 CIX 开发者账号来获得。
申请链接： [CIX 开发者账号申请](https://developer.cixtech.com/)

## 安装 NPU SDK (x86 Linux 环境)

通过 [CIX 开发者账号申请](#cix-开发者账号申请) 申请后，登录账号，即可在页面下载 CIX P1 NPU SDK 压缩包 `cix_noe_sdk_xx_xx_release.tar.gz`。

<NewCodeBlock tip="x86 Linux PC" type="PC">

```
tar -xvf cix_noe_sdk_xx_xx_release.tar.gz # 需要对应具体文件名
```

</NewCodeBlock>

:::tip
CIX P1 NPU SDK 是安装在 X86 主机上，并要求 python 版本为 3.8。

请用户准备好 python3.8 环境，推荐使用 [miniforge](https://github.com/conda-forge/miniforge) 或者其他 python 虚拟环境。
:::

### 安装 NOE Compiler

NOE Compiler 用于模型的编译，将 ONNX 模型框架的模型格式转换为可以使用 NPU 进行加速推理的模型格式

<NewCodeBlock tip="x86 venv" type="venv">

```
cd cix_noe_sdk_xx_xx_release/ # 需要对应具体文件名
pip3 install -r requirements.txt
pip3 install ./CixBuilder-6.1.xxxx.x-py3-none-any.whl # 需要对应具体文件名
```

</NewCodeBlock>

## ~安装 NOE UMD (Orion O6 / O6N)~

:::tip
~NOE UMD 包以 deb 安装包形式发布，如使用 python api，在创建虚拟环境时请继承系统依赖： **`python3 -m venv --system-site-packages .venv`**~
:::

CIX P1 NPU SDK 压缩包，包含 NOE UMD 安装包 `cix-noe-umd_xx_xx_arm64.deb` `cix-npu-driver_x.x.x_arm64.deb`，请将该文件拷贝到 Orion O6 / O6N 设备上进行安装。

~`bash
sudo dpkg -i ./cix-noe-umd_x.xxx-x_arm64.deb ./cix-npu-driver_x.x.x_arm64.deb # 需要对应具体文件名
~`~

:::tip
NOE UMD 已经通过预装的形式安装在 OS 里，如使用 python api，在创建 python 虚拟环境时请继承系统依赖： **`python3 -m venv --system-site-packages .venv`** 以确保 libnoe 模块可被正确加载
:::
