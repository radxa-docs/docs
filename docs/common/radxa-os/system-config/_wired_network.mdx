import { Image } from "@site/src/utils/docs";

主要介绍如何连接有线网络和测试网络带宽。

## 有线网络

使用网线连接主板的千兆网口和路由器，连接成功后；路由器会自动分配 IP 地址给主板。

<Tabs queryString="web-mode">

<TabItem value="图形界面">

使用网线连接主板网口和路由器，连接成功后；路由器会自动分配 IP 地址给主板。

① ： 点击网络图标

② ： 选择 `Details` 选项可以看到网络连接的详细信息，如 IP 地址、子网掩码、网关地址等。

其中 `192.168.4.129` 就是路由器分配的 IP 地址。

<Image
  src="/img/common/radxa-os/system-config/network-wired-#debian_version#-detail.webp"
  debian_version={props.debian_version}
  fallback={props.debian_version}
  width="1200"
/>

</TabItem>

<TabItem value="命令行">

终端命令行输入以下命令可以查看网络连接的详细信息：

<NewCodeBlock tip={`radxa@${props?.board ?? 'device'}$`} type="device">

```bash
ip a
```

</NewCodeBlock>

终端会输出类似如下信息：其中 `192.168.2.186` 就是路由器分配的 IP 地址。

```text
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: sit0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN group default qlen 1000
    link/sit 0.0.0.0 brd 0.0.0.0
3: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:e8:ec:f4:6f:8b brd ff:ff:ff:ff:ff:ff
    inet 192.168.2.186/24 brd 192.168.2.255 scope global dynamic noprefixroute eth0
       valid_lft 3212sec preferred_lft 3212sec
    inet6 240e:3b7:3240:6e00::b09/128 scope global dynamic noprefixroute
       valid_lft 3210sec preferred_lft 3210sec
    inet6 fdaa::b09/128 scope global dynamic noprefixroute
       valid_lft 3210sec preferred_lft 3210sec
    inet6 fdaa::7ebe:84a2:306f:4271/64 scope global noprefixroute
       valid_lft forever preferred_lft forever
    inet6 240e:3b7:3240:6e00:9f8b:e83d:3c56:18e5/64 scope global dynamic noprefixroute
       valid_lft 219073sec preferred_lft 132673sec
    inet6 fe80::f69d:bf6f:3d68:cef1/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
4: wlan0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN group default qlen 1000
    link/ether 76:13:0d:bc:43:06 brd ff:ff:ff:ff:ff:ff permaddr 2c:c6:82:85:8d:fe
```

</TabItem>

</Tabs>

## 测试网络带宽性能

使用 `iperf` 工具来测试网络带宽（吞吐量）性能，建议多次测试取平均值。

### 测试前提

- 硬件设备

您需要两台设备，其中一台设备作为服务端，另一台设备作为客户端。

服务端（Server）：PC、服务器等设备。

客户端（Client）：待测试的设备，如 Cubie A7A。

- 同一局域网

服务端和客户端需要处于同一局域网，彼此可以 ping 通。

### 安装 iperf

服务端和客户端都需要安装 `iperf`。

<NewCodeBlock tip="radxa@device & Linux@host$" type="device">

```bash
sudo apt update
sudo apt install iperf
```

</NewCodeBlock>

### 测试步骤

#### 服务端 (PC)

打开命令行终端，输入以下命令启动服务端：

<NewCodeBlock tip="Linux@host$" type="host">

```bash
iperf -s
```

</NewCodeBlock>

成功启动后，终端会输出类似如下信息：

```text
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------
```

#### 客户端（主板）

1. 上传测试

打开命令行终端，输入以下命令测试客户端上传网络带宽：将 `<server_ip>` 替换为实际的服务端 IP 地址（可以通过 `ip a` 命令查看）。

<NewCodeBlock tip={`radxa@${props?.board ?? 'device'}$`} type="device">

```bash
iperf -c <server_ip> -t <time>
# 示例
iperf -c 192.168.2.104 -t 60
```

</NewCodeBlock>

参数说明：

- `<server_ip>`：服务端 IP 地址。
- `<time>`：测试时间，单位为秒。

2. 下载测试

打开命令行终端，输入以下命令测试客户端下载网络带宽：将 `<server_ip>` 替换为实际的服务端 IP 地址（可以通过 `ip a` 命令查看）。

<NewCodeBlock tip={`radxa@${props?.board ?? 'device'}$`} type="device">

```bash
iperf -c <server_ip> -t <time> -R
# 示例
iperf -c 192.168.2.104 -t 60 -R
```

</NewCodeBlock>

参数说明：

- `<server_ip>`：服务端 IP 地址。
- `<time>`：测试时间，单位为秒。
- `-R`：反向测试，即客户端作为服务端，服务端作为客户端。
